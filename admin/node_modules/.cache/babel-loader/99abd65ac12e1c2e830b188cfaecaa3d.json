{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\BusEase\\\\admin\\\\src\\\\components\\\\ScheduleManagement\\\\ScheduleManagement.jsx\",\n    _s = $RefreshSig$();\n\n// ScheduleManagement.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getSchedules, deleteSchedule, updateSchedule, getSchedule } from '../../api/scheduleApi';\nimport './ScheduleManagement.css';\nimport DriveFolderUploadOutlinedIcon from '@mui/icons-material/DriveFolderUploadOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultPhoto = \"https://via.placeholder.com/150\";\n\nconst ScheduleManagement = () => {\n  _s();\n\n  const [schedules, setSchedules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    origin: '',\n    destination: '',\n    price: '',\n    photos: [],\n    departureDate: '',\n    departureTime: '',\n    arrivalTime: '',\n    duration: '',\n    stops: [],\n    amenities: [],\n    desc: '',\n    totalSeats: ''\n  });\n  const [files, setFiles] = useState([]);\n  useEffect(() => {\n    const fetchSchedules = async () => {\n      try {\n        const {\n          data\n        } = await getSchedules();\n        setSchedules(data);\n      } catch (err) {\n        setError('Failed to fetch schedules');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSchedules();\n  }, []);\n\n  const handleEditClick = async id => {\n    try {\n      const {\n        data\n      } = await getSchedule(id);\n      setSelectedSchedule(data);\n      setFormData({\n        name: data.name,\n        origin: data.origin,\n        destination: data.destination,\n        price: data.price,\n        photos: data.photos,\n        departureDate: data.departureDate.substring(0, 10),\n        departureTime: data.departureTime,\n        arrivalTime: data.arrivalTime,\n        duration: data.duration,\n        stops: data.stops.map(stop => ({ ...stop\n        })),\n        amenities: data.amenities,\n        desc: data.desc,\n        totalSeats: data.totalSeats\n      });\n      setEditMode(true);\n    } catch (err) {\n      console.error('Failed to fetch schedule data:', err);\n      setError('Failed to fetch schedule data');\n    }\n  };\n\n  const handleFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const handleFileChange = e => {\n    setFiles(Array.from(e.target.files));\n  };\n\n  const handleConfirmEdit = async () => {\n    setError(null);\n    let photosUrls = formData.photos;\n\n    if (files.length > 0) {\n      const uploadedPhotos = [];\n\n      for (let file of files) {\n        const data = new FormData();\n        data.append('file', file);\n        data.append('upload_preset', 'upload');\n\n        try {\n          const uploadRes = await axios.post('https://api.cloudinary.com/v1_1/dhvb035xa/image/upload', data);\n          uploadedPhotos.push(uploadRes.data.url);\n        } catch (err) {\n          setError('Failed to upload images');\n          return;\n        }\n      }\n\n      photosUrls = uploadedPhotos;\n    }\n\n    try {\n      const updatedSchedule = { ...formData,\n        photos: photosUrls\n      };\n      const {\n        data\n      } = await updateSchedule(selectedSchedule._id, updatedSchedule);\n      setSchedules(schedules.map(schedule => schedule._id === selectedSchedule._id ? data : schedule));\n      setEditMode(false);\n      setSelectedSchedule(null);\n    } catch (err) {\n      console.error('Failed to update schedule:', err);\n      setError('Failed to update schedule');\n    }\n  };\n\n  const handleDelete = async id => {\n    try {\n      await deleteSchedule(id);\n      setSchedules(schedules.filter(schedule => schedule._id !== id));\n    } catch (err) {\n      console.error('Failed to delete schedule:', err);\n      setError('Failed to delete schedule');\n    }\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading schedules...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scheduleManagement\",\n    children: editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Edit Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imageUploadSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"files\",\n          className: \"imageUploadLabel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photosPreview\",\n            children: (files.length > 0 ? files : formData.photos).map((photo, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: files.length > 0 ? URL.createObjectURL(photo) : photo || defaultPhoto,\n              alt: \"Schedule Preview\",\n              className: \"editPhoto\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DriveFolderUploadOutlinedIcon, {\n            className: \"uploadIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"files\",\n          multiple: true,\n          onChange: handleFileChange,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: formData.name,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Origin:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"origin\",\n        value: formData.origin,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Destination:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"destination\",\n        value: formData.destination,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        value: formData.price,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Departure Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"departureDate\",\n        value: formData.departureDate,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Departure Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"departureTime\",\n        value: formData.departureTime,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Arrival Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"arrivalTime\",\n        value: formData.arrivalTime,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"desc\",\n        value: formData.desc,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Total Seats:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"totalSeats\",\n        value: formData.totalSeats,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConfirmEdit,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditMode(false),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"managementTable\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Departure Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Departure Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Arrival Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.photos && schedule.photos.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: schedule.photos[0],\n              alt: \"Schedule\",\n              className: \"scheduleTablePhoto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: defaultPhoto,\n              alt: \"Default\",\n              className: \"scheduleTablePhoto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.origin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.destination\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.departureDate.substring(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.departureTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.arrivalTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditClick(schedule._id),\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(schedule._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }, this)]\n        }, schedule._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ScheduleManagement, \"cocYwGaUcVX9i8kMjGPpfwPONy0=\");\n\n_c = ScheduleManagement;\nexport default ScheduleManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScheduleManagement\");","map":{"version":3,"sources":["C:/Users/user/OneDrive/Desktop/BusEase/admin/src/components/ScheduleManagement/ScheduleManagement.jsx"],"names":["React","useEffect","useState","axios","getSchedules","deleteSchedule","updateSchedule","getSchedule","DriveFolderUploadOutlinedIcon","defaultPhoto","ScheduleManagement","schedules","setSchedules","loading","setLoading","error","setError","selectedSchedule","setSelectedSchedule","editMode","setEditMode","formData","setFormData","name","origin","destination","price","photos","departureDate","departureTime","arrivalTime","duration","stops","amenities","desc","totalSeats","files","setFiles","fetchSchedules","data","err","console","handleEditClick","id","substring","map","stop","handleFormChange","e","value","target","handleFileChange","Array","from","handleConfirmEdit","photosUrls","length","uploadedPhotos","file","FormData","append","uploadRes","post","push","url","updatedSchedule","_id","schedule","handleDelete","filter","photo","index","URL","createObjectURL","display"],"mappings":"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","sourcesContent":["// ScheduleManagement.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { getSchedules, deleteSchedule, updateSchedule, getSchedule } from '../../api/scheduleApi';\r\nimport './ScheduleManagement.css';\r\nimport DriveFolderUploadOutlinedIcon from '@mui/icons-material/DriveFolderUploadOutlined';\r\n\r\nconst defaultPhoto = \"https://via.placeholder.com/150\";\r\n\r\nconst ScheduleManagement = () => {\r\n    const [schedules, setSchedules] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedSchedule, setSelectedSchedule] = useState(null);\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        origin: '',\r\n        destination: '',\r\n        price: '',\r\n        photos: [],\r\n        departureDate: '',\r\n        departureTime: '',\r\n        arrivalTime: '',\r\n        duration: '',\r\n        stops: [],\r\n        amenities: [],\r\n        desc: '',\r\n        totalSeats: '',\r\n    });\r\n    const [files, setFiles] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchSchedules = async () => {\r\n            try {\r\n                const { data } = await getSchedules();\r\n                setSchedules(data);\r\n            } catch (err) {\r\n                setError('Failed to fetch schedules');\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchSchedules();\r\n    }, []);\r\n\r\n    const handleEditClick = async (id) => {\r\n        try {\r\n            const { data } = await getSchedule(id);\r\n            setSelectedSchedule(data);\r\n            setFormData({\r\n                name: data.name,\r\n                origin: data.origin,\r\n                destination: data.destination,\r\n                price: data.price,\r\n                photos: data.photos,\r\n                departureDate: data.departureDate.substring(0,10),\r\n                departureTime: data.departureTime,\r\n                arrivalTime: data.arrivalTime,\r\n                duration: data.duration,\r\n                stops: data.stops.map(stop => ({...stop})),\r\n                amenities: data.amenities,\r\n                desc: data.desc,\r\n                totalSeats: data.totalSeats,\r\n            });\r\n            setEditMode(true);\r\n        } catch (err) {\r\n            console.error('Failed to fetch schedule data:', err);\r\n            setError('Failed to fetch schedule data');\r\n        }\r\n    };\r\n\r\n    const handleFormChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        setFiles(Array.from(e.target.files));\r\n    };\r\n\r\n    const handleConfirmEdit = async () => {\r\n        setError(null);\r\n        let photosUrls = formData.photos;\r\n\r\n        if (files.length > 0) {\r\n            const uploadedPhotos = [];\r\n            for (let file of files) {\r\n                const data = new FormData();\r\n                data.append('file', file);\r\n                data.append('upload_preset', 'upload');\r\n\r\n                try {\r\n                    const uploadRes = await axios.post(\r\n                        'https://api.cloudinary.com/v1_1/dhvb035xa/image/upload',\r\n                        data\r\n                    );\r\n                    uploadedPhotos.push(uploadRes.data.url);\r\n                } catch (err) {\r\n                    setError('Failed to upload images');\r\n                    return;\r\n                }\r\n            }\r\n            photosUrls = uploadedPhotos;\r\n        }\r\n\r\n        try {\r\n            const updatedSchedule = { ...formData, photos: photosUrls };\r\n            const { data } = await updateSchedule(selectedSchedule._id, updatedSchedule);\r\n            setSchedules(schedules.map(schedule => schedule._id === selectedSchedule._id ? data : schedule));\r\n            setEditMode(false);\r\n            setSelectedSchedule(null);\r\n        } catch (err) {\r\n            console.error('Failed to update schedule:', err);\r\n            setError('Failed to update schedule');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await deleteSchedule(id);\r\n            setSchedules(schedules.filter(schedule => schedule._id !== id));\r\n        } catch (err) {\r\n            console.error('Failed to delete schedule:', err);\r\n            setError('Failed to delete schedule');\r\n        }\r\n    };\r\n\r\n    if (loading) return <div>Loading schedules...</div>;\r\n    if (error) return <div>{error}</div>;\r\n\r\n    return (\r\n        <div className=\"scheduleManagement\">\r\n            {editMode ? (\r\n                <div className=\"editForm\">\r\n                    <h4>Edit Schedule</h4>\r\n                    <div className=\"imageUploadSection\">\r\n                        <label htmlFor=\"files\" className=\"imageUploadLabel\">\r\n                            <div className=\"photosPreview\">\r\n                                {(files.length > 0 ? files : formData.photos).map((photo, index) => (\r\n                                    <img\r\n                                        key={index}\r\n                                        src={files.length > 0 ? URL.createObjectURL(photo) : photo || defaultPhoto}\r\n                                        alt=\"Schedule Preview\"\r\n                                        className=\"editPhoto\"\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                            <DriveFolderUploadOutlinedIcon className=\"uploadIcon\" />\r\n                        </label>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"files\"\r\n                            multiple\r\n                            onChange={handleFileChange}\r\n                            style={{ display: 'none' }}\r\n                        />\r\n                    </div>\r\n                    <label>Name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Origin:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"origin\"\r\n                        value={formData.origin}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Destination:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"destination\"\r\n                        value={formData.destination}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Price:</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        value={formData.price}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Departure Date:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        name=\"departureDate\"\r\n                        value={formData.departureDate}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Departure Time:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"departureTime\"\r\n                        value={formData.departureTime}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Arrival Time:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"arrivalTime\"\r\n                        value={formData.arrivalTime}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Description:</label>\r\n                    <textarea\r\n                        name=\"desc\"\r\n                        value={formData.desc}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Total Seats:</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"totalSeats\"\r\n                        value={formData.totalSeats}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    {/* Add more form fields for stops, amenities if needed */}\r\n                    <button onClick={handleConfirmEdit}>Edit</button>\r\n                    <button onClick={() => setEditMode(false)}>Cancel</button>\r\n                </div>\r\n            ) : (\r\n                <table className=\"managementTable\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Photos</th>\r\n                            <th>Name</th>\r\n                            <th>Origin</th>\r\n                            <th>Destination</th>\r\n                            <th>Departure Date</th>\r\n                            <th>Departure Time</th>\r\n                            <th>Arrival Time</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {schedules.map(schedule => (\r\n                            <tr key={schedule._id}>\r\n                                <td>\r\n                                    {schedule.photos && schedule.photos.length > 0 ? (\r\n                                        <img\r\n                                            src={schedule.photos[0]}\r\n                                            alt=\"Schedule\"\r\n                                            className=\"scheduleTablePhoto\"\r\n                                        />\r\n                                    ) : (\r\n                                        <img\r\n                                            src={defaultPhoto}\r\n                                            alt=\"Default\"\r\n                                            className=\"scheduleTablePhoto\"\r\n                                        />\r\n                                    )}\r\n                                </td>\r\n                                <td>{schedule.name}</td>\r\n                                <td>{schedule.origin}</td>\r\n                                <td>{schedule.destination}</td>\r\n                                <td>{schedule.departureDate.substring(0,10)}</td>\r\n                                <td>{schedule.departureTime}</td>\r\n                                <td>{schedule.arrivalTime}</td>\r\n                                <td>\r\n                                    <button onClick={() => handleEditClick(schedule._id)}>View</button>\r\n                                    <button onClick={() => handleDelete(schedule._id)}>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ScheduleManagement;\r\n"]},"metadata":{},"sourceType":"module"}