{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\BusEase\\\\admin\\\\src\\\\components\\\\ScheduleManagement\\\\ScheduleManagement.jsx\",\n    _s = $RefreshSig$();\n\n// ScheduleManagement.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getSchedules, deleteSchedule, updateSchedule, getSchedule, createSchedule } from '../../api/scheduleApi';\nimport './ScheduleManagement.css';\nimport DriveFolderUploadOutlinedIcon from '@mui/icons-material/DriveFolderUploadOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultPhoto = \"https://via.placeholder.com/150\";\n\nconst ScheduleManagement = () => {\n  _s();\n\n  const [schedules, setSchedules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [isAddMode, setIsAddMode] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    origin: '',\n    destination: '',\n    price: '',\n    photos: [],\n    departureDate: '',\n    departureTime: '',\n    arrivalTime: '',\n    duration: '',\n    stops: [],\n    amenities: [],\n    desc: '',\n    totalSeats: ''\n  });\n  const [files, setFiles] = useState([]);\n  useEffect(() => {\n    const fetchSchedules = async () => {\n      try {\n        const {\n          data\n        } = await getSchedules();\n        setSchedules(data);\n      } catch (err) {\n        setError('Failed to fetch schedules');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSchedules();\n  }, []);\n\n  const handleEditClick = async id => {\n    try {\n      const {\n        data\n      } = await getSchedule(id);\n      setSelectedSchedule(data);\n      setFormData({\n        name: data.name,\n        origin: data.origin,\n        destination: data.destination,\n        price: data.price,\n        photos: data.photos,\n        departureDate: data.departureDate.substring(0, 10),\n        departureTime: data.departureTime,\n        arrivalTime: data.arrivalTime,\n        duration: data.duration,\n        stops: data.stops.map(stop => ({ ...stop\n        })),\n        amenities: data.amenities,\n        desc: data.desc,\n        totalSeats: data.totalSeats\n      });\n      setIsEditMode(true);\n    } catch (err) {\n      console.error('Failed to fetch schedule data:', err);\n      setError('Failed to fetch schedule data');\n    }\n  };\n\n  const handleAddClick = () => {\n    setFormData({\n      name: '',\n      origin: '',\n      destination: '',\n      price: '',\n      photos: [],\n      departureDate: '',\n      departureTime: '',\n      arrivalTime: '',\n      duration: '',\n      stops: [],\n      amenities: [],\n      desc: '',\n      totalSeats: ''\n    });\n    setFiles([]);\n    setIsAddMode(true);\n    setError(null);\n  };\n\n  const handleFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const handleFileChange = e => {\n    setFiles(Array.from(e.target.files));\n  };\n\n  const handleConfirmEdit = async () => {\n    setError(null);\n    let photosUrls = formData.photos;\n\n    if (files.length > 0) {\n      const uploadedPhotos = [];\n\n      for (let file of files) {\n        const data = new FormData();\n        data.append('file', file);\n        data.append('upload_preset', 'upload');\n\n        try {\n          const uploadRes = await axios.post('https://api.cloudinary.com/v1_1/dhvb035xa/image/upload', data);\n          uploadedPhotos.push(uploadRes.data.url);\n        } catch (err) {\n          setError('Failed to upload images');\n          return;\n        }\n      }\n\n      photosUrls = uploadedPhotos;\n    }\n\n    try {\n      const updatedSchedule = { ...formData,\n        photos: photosUrls\n      };\n      const {\n        data\n      } = await updateSchedule(selectedSchedule._id, updatedSchedule);\n      setSchedules(schedules.map(schedule => schedule._id === selectedSchedule._id ? data : schedule));\n      setIsEditMode(false);\n      setSelectedSchedule(null);\n    } catch (err) {\n      console.error('Failed to update schedule:', err);\n      setError('Failed to update schedule');\n    }\n  };\n\n  const handleConfirmAdd = async () => {\n    setError(null);\n    let photosUrls = [];\n\n    if (files.length > 0) {\n      const uploadedPhotos = [];\n\n      for (let file of files) {\n        const data = new FormData();\n        data.append('file', file);\n        data.append('upload_preset', 'upload');\n\n        try {\n          const uploadRes = await axios.post('https://api.cloudinary.com/v1_1/dhvb035xa/image/upload', data);\n          uploadedPhotos.push(uploadRes.data.url);\n        } catch (err) {\n          setError('Failed to upload images');\n          return;\n        }\n      }\n\n      photosUrls = uploadedPhotos;\n    }\n\n    try {\n      const newSchedule = { ...formData,\n        photos: photosUrls\n      };\n      const {\n        data\n      } = await createSchedule(newSchedule);\n      setSchedules([...schedules, data]);\n      setIsAddMode(false);\n    } catch (err) {\n      console.error('Failed to create schedule:', err);\n      setError('Failed to create schedule');\n    }\n  };\n\n  const handleDelete = async id => {\n    try {\n      await deleteSchedule(id);\n      setSchedules(schedules.filter(schedule => schedule._id !== id));\n    } catch (err) {\n      console.error('Failed to delete schedule:', err);\n      setError('Failed to delete schedule');\n    }\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading schedules...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scheduleManagement\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addButton\",\n        onClick: handleAddClick,\n        children: \"Add Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), isEditMode || isAddMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: isEditMode ? 'Edit Schedule' : 'Add Schedule'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imageUploadSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"files\",\n          className: \"imageUploadLabel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photosPreview\",\n            children: (files.length > 0 ? files : formData.photos).map((photo, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: files.length > 0 ? URL.createObjectURL(photo) : photo || defaultPhoto,\n              alt: \"Schedule Preview\",\n              className: \"editPhoto\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DriveFolderUploadOutlinedIcon, {\n            className: \"uploadIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"files\",\n          multiple: true,\n          onChange: handleFileChange,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: formData.name,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Origin:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"origin\",\n        value: formData.origin,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Destination:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"destination\",\n        value: formData.destination,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        value: formData.price,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Departure Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"departureDate\",\n        value: formData.departureDate,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Departure Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"departureTime\",\n        value: formData.departureTime,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Arrival Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"arrivalTime\",\n        value: formData.arrivalTime,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"desc\",\n        value: formData.desc,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Total Seats:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"totalSeats\",\n        value: formData.totalSeats,\n        onChange: handleFormChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isEditMode ? handleConfirmEdit : handleConfirmAdd,\n        children: isEditMode ? 'Update' : 'Add'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setIsEditMode(false);\n          setIsAddMode(false);\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"managementTable\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Departure Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Departure Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Arrival Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.photos && schedule.photos.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: schedule.photos[0],\n              alt: \"Schedule\",\n              className: \"scheduleTablePhoto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: defaultPhoto,\n              alt: \"Default\",\n              className: \"scheduleTablePhoto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.origin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.destination\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.departureDate.substring(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.departureTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: schedule.arrivalTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditClick(schedule._id),\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(schedule._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 33\n          }, this)]\n        }, schedule._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ScheduleManagement, \"iqRvhRCXKB/pFKcJU7Q6wHt0FCE=\");\n\n_c = ScheduleManagement;\nexport default ScheduleManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScheduleManagement\");","map":{"version":3,"sources":["C:/Users/user/OneDrive/Desktop/BusEase/admin/src/components/ScheduleManagement/ScheduleManagement.jsx"],"names":["React","useEffect","useState","axios","getSchedules","deleteSchedule","updateSchedule","getSchedule","createSchedule","DriveFolderUploadOutlinedIcon","defaultPhoto","ScheduleManagement","schedules","setSchedules","loading","setLoading","error","setError","selectedSchedule","setSelectedSchedule","isEditMode","setIsEditMode","isAddMode","setIsAddMode","formData","setFormData","name","origin","destination","price","photos","departureDate","departureTime","arrivalTime","duration","stops","amenities","desc","totalSeats","files","setFiles","fetchSchedules","data","err","console","handleEditClick","id","substring","map","stop","handleAddClick","handleFormChange","e","value","target","handleFileChange","Array","from","handleConfirmEdit","photosUrls","length","uploadedPhotos","file","FormData","append","uploadRes","post","push","url","updatedSchedule","_id","schedule","handleConfirmAdd","newSchedule","handleDelete","filter","photo","index","URL","createObjectURL","display"],"mappings":"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","sourcesContent":["// ScheduleManagement.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { getSchedules, deleteSchedule, updateSchedule, getSchedule, createSchedule } from '../../api/scheduleApi';\r\nimport './ScheduleManagement.css';\r\nimport DriveFolderUploadOutlinedIcon from '@mui/icons-material/DriveFolderUploadOutlined';\r\n\r\nconst defaultPhoto = \"https://via.placeholder.com/150\";\r\n\r\nconst ScheduleManagement = () => {\r\n    const [schedules, setSchedules] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedSchedule, setSelectedSchedule] = useState(null);\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n    const [isAddMode, setIsAddMode] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        origin: '',\r\n        destination: '',\r\n        price: '',\r\n        photos: [],\r\n        departureDate: '',\r\n        departureTime: '',\r\n        arrivalTime: '',\r\n        duration: '',\r\n        stops: [],\r\n        amenities: [],\r\n        desc: '',\r\n        totalSeats: '',\r\n    });\r\n    const [files, setFiles] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchSchedules = async () => {\r\n            try {\r\n                const { data } = await getSchedules();\r\n                setSchedules(data);\r\n            } catch (err) {\r\n                setError('Failed to fetch schedules');\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchSchedules();\r\n    }, []);\r\n\r\n    const handleEditClick = async (id) => {\r\n        try {\r\n            const { data } = await getSchedule(id);\r\n            setSelectedSchedule(data);\r\n            setFormData({\r\n                name: data.name,\r\n                origin: data.origin,\r\n                destination: data.destination,\r\n                price: data.price,\r\n                photos: data.photos,\r\n                departureDate: data.departureDate.substring(0,10),\r\n                departureTime: data.departureTime,\r\n                arrivalTime: data.arrivalTime,\r\n                duration: data.duration,\r\n                stops: data.stops.map(stop => ({...stop})),\r\n                amenities: data.amenities,\r\n                desc: data.desc,\r\n                totalSeats: data.totalSeats,\r\n            });\r\n            setIsEditMode(true);\r\n        } catch (err) {\r\n            console.error('Failed to fetch schedule data:', err);\r\n            setError('Failed to fetch schedule data');\r\n        }\r\n    };\r\n\r\n    const handleAddClick = () => {\r\n        setFormData({\r\n            name: '',\r\n            origin: '',\r\n            destination: '',\r\n            price: '',\r\n            photos: [],\r\n            departureDate: '',\r\n            departureTime: '',\r\n            arrivalTime: '',\r\n            duration: '',\r\n            stops: [],\r\n            amenities: [],\r\n            desc: '',\r\n            totalSeats: '',\r\n        });\r\n        setFiles([]);\r\n        setIsAddMode(true);\r\n        setError(null);\r\n    };\r\n\r\n    const handleFormChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        setFiles(Array.from(e.target.files));\r\n    };\r\n\r\n    const handleConfirmEdit = async () => {\r\n        setError(null);\r\n        let photosUrls = formData.photos;\r\n\r\n        if (files.length > 0) {\r\n            const uploadedPhotos = [];\r\n            for (let file of files) {\r\n                const data = new FormData();\r\n                data.append('file', file);\r\n                data.append('upload_preset', 'upload');\r\n\r\n                try {\r\n                    const uploadRes = await axios.post(\r\n                        'https://api.cloudinary.com/v1_1/dhvb035xa/image/upload',\r\n                        data\r\n                    );\r\n                    uploadedPhotos.push(uploadRes.data.url);\r\n                } catch (err) {\r\n                    setError('Failed to upload images');\r\n                    return;\r\n                }\r\n            }\r\n            photosUrls = uploadedPhotos;\r\n        }\r\n\r\n        try {\r\n            const updatedSchedule = { ...formData, photos: photosUrls };\r\n            const { data } = await updateSchedule(selectedSchedule._id, updatedSchedule);\r\n            setSchedules(schedules.map(schedule => schedule._id === selectedSchedule._id ? data : schedule));\r\n            setIsEditMode(false);\r\n            setSelectedSchedule(null);\r\n        } catch (err) {\r\n            console.error('Failed to update schedule:', err);\r\n            setError('Failed to update schedule');\r\n        }\r\n    };\r\n\r\n    const handleConfirmAdd = async () => {\r\n        setError(null);\r\n        let photosUrls = [];\r\n\r\n        if (files.length > 0) {\r\n            const uploadedPhotos = [];\r\n            for (let file of files) {\r\n                const data = new FormData();\r\n                data.append('file', file);\r\n                data.append('upload_preset', 'upload');\r\n\r\n                try {\r\n                    const uploadRes = await axios.post(\r\n                        'https://api.cloudinary.com/v1_1/dhvb035xa/image/upload',\r\n                        data\r\n                    );\r\n                    uploadedPhotos.push(uploadRes.data.url);\r\n                } catch (err) {\r\n                    setError('Failed to upload images');\r\n                    return;\r\n                }\r\n            }\r\n            photosUrls = uploadedPhotos;\r\n        }\r\n\r\n        try {\r\n            const newSchedule = { ...formData, photos: photosUrls };\r\n            const { data } = await createSchedule(newSchedule);\r\n            setSchedules([...schedules, data]);\r\n            setIsAddMode(false);\r\n        } catch (err) {\r\n            console.error('Failed to create schedule:', err);\r\n            setError('Failed to create schedule');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await deleteSchedule(id);\r\n            setSchedules(schedules.filter(schedule => schedule._id !== id));\r\n        } catch (err) {\r\n            console.error('Failed to delete schedule:', err);\r\n            setError('Failed to delete schedule');\r\n        }\r\n    };\r\n\r\n    if (loading) return <div>Loading schedules...</div>;\r\n    if (error) return <div>{error}</div>;\r\n\r\n    return (\r\n        <div className=\"scheduleManagement\">\r\n            <div className=\"header\">\r\n                <button className=\"addButton\" onClick={handleAddClick}>Add Schedule</button>\r\n            </div>\r\n            {(isEditMode || isAddMode) ? (\r\n                <div className=\"editForm\">\r\n                    <h4>{isEditMode ? 'Edit Schedule' : 'Add Schedule'}</h4>\r\n                    <div className=\"imageUploadSection\">\r\n                        <label htmlFor=\"files\" className=\"imageUploadLabel\">\r\n                            <div className=\"photosPreview\">\r\n                                {(files.length > 0 ? files : formData.photos).map((photo, index) => (\r\n                                    <img\r\n                                        key={index}\r\n                                        src={files.length > 0 ? URL.createObjectURL(photo) : photo || defaultPhoto}\r\n                                        alt=\"Schedule Preview\"\r\n                                        className=\"editPhoto\"\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                            <DriveFolderUploadOutlinedIcon className=\"uploadIcon\" />\r\n                        </label>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"files\"\r\n                            multiple\r\n                            onChange={handleFileChange}\r\n                            style={{ display: 'none' }}\r\n                        />\r\n                    </div>\r\n                    <label>Name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Origin:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"origin\"\r\n                        value={formData.origin}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Destination:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"destination\"\r\n                        value={formData.destination}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Price:</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        value={formData.price}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Departure Date:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        name=\"departureDate\"\r\n                        value={formData.departureDate}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Departure Time:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"departureTime\"\r\n                        value={formData.departureTime}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Arrival Time:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"arrivalTime\"\r\n                        value={formData.arrivalTime}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Description:</label>\r\n                    <textarea\r\n                        name=\"desc\"\r\n                        value={formData.desc}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    <label>Total Seats:</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"totalSeats\"\r\n                        value={formData.totalSeats}\r\n                        onChange={handleFormChange}\r\n                    />\r\n                    {/* Add fields for stops and amenities if required */}\r\n                    <button onClick={isEditMode ? handleConfirmEdit : handleConfirmAdd}>\r\n                        {isEditMode ? 'Update' : 'Add'}\r\n                    </button>\r\n                    <button onClick={() => { setIsEditMode(false); setIsAddMode(false); }}>\r\n                        Cancel\r\n                    </button>\r\n                </div>\r\n            ) : (\r\n                <table className=\"managementTable\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Photos</th>\r\n                            <th>Name</th>\r\n                            <th>Origin</th>\r\n                            <th>Destination</th>\r\n                            <th>Departure Date</th>\r\n                            <th>Departure Time</th>\r\n                            <th>Arrival Time</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {schedules.map(schedule => (\r\n                            <tr key={schedule._id}>\r\n                                <td>\r\n                                    {schedule.photos && schedule.photos.length > 0 ? (\r\n                                        <img\r\n                                            src={schedule.photos[0]}\r\n                                            alt=\"Schedule\"\r\n                                            className=\"scheduleTablePhoto\"\r\n                                        />\r\n                                    ) : (\r\n                                        <img\r\n                                            src={defaultPhoto}\r\n                                            alt=\"Default\"\r\n                                            className=\"scheduleTablePhoto\"\r\n                                        />\r\n                                    )}\r\n                                </td>\r\n                                <td>{schedule.name}</td>\r\n                                <td>{schedule.origin}</td>\r\n                                <td>{schedule.destination}</td>\r\n                                <td>{schedule.departureDate.substring(0,10)}</td>\r\n                                <td>{schedule.departureTime}</td>\r\n                                <td>{schedule.arrivalTime}</td>\r\n                                <td>\r\n                                    <button onClick={() => handleEditClick(schedule._id)}>View</button>\r\n                                    <button onClick={() => handleDelete(schedule._id)}>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ScheduleManagement;\r\n"]},"metadata":{},"sourceType":"module"}